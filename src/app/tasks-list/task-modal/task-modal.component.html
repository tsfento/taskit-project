<!-- New/Edit Task -->
<div class="modal fade" id="taskModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-lg">
    <div class="modal-content">
      <div class="d-flex justify-content-end btn-close-div">
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" (click)="resetForm()"></button>
      </div>
      <div class="modal-body">
        <form [formGroup]="taskForm" class="row g-3">
          <h1 class="modal-title fs-5" id="taskModalLabel" *ngIf="isEditing">{{ isViewing ? 'View Task' : 'Edit Task' }}</h1>
          <h1 class="modal-title fs-5" id="taskModalLabel" *ngIf="!isEditing">{{ isViewing ? 'View Task' : 'Add Task' }}</h1>
          <div class="col-8">
            <label for="inputTaskName" class="form-label">Task</label>
            <span class="help-block text-danger" style="float: right;"
            *ngIf="!taskForm.get('title').valid && taskForm.get('title').touched"
            >Please enter a title.</span>
            <input type="text" class="form-control" maxlength="25" placeholder="Name the task" formControlName="title">
            <label for="inputDetails" class="form-label mt-3">Details</label>
            <span class="help-block text-danger mt-3" style="float: right;"
            *ngIf="!taskForm.get('details').valid && taskForm.get('details').touched"
            >Please enter some details.</span>
            <textarea type="text" class="form-control" maxlength="250" placeholder="Describe the task" style="height: 160px; resize: none;" formControlName="details"></textarea>
          </div>
          <div class="col-4">
            <label for="inputDueDate" class="form-label">Due Date</label>
            <div>
              <input type="date" class="form-control" formControlName="dueDate">
              <p class="help-block text-danger mt-3"
            *ngIf="!taskForm.get('dueDate').valid && taskForm.get('dueDate').touched"
            >Due date cannot be before today.</p>
            </div>
            <label for="inputPriority" class="form-label mt-2">Priority</label>
            <div>
              <select class="form-select" aria-label="Priority" formControlName="priority">
                <option selected value="Low-1">Low</option>
                <option value="Medium-2">Medium</option>
                <option value="High-3">High</option>
              </select>
            </div>
            <label for="inputStatus" class="form-label mt-2">Status</label>
            <div>
              <select class="form-select" aria-label="Status" formControlName="status">
                <option selected value="To Do-1">To Do</option>
                <option value="In Progress-2">In Progress</option>
                <option value="Done-3">Done</option>
              </select>
            </div>
            <div class="d-flex justify-content-between mt-3 pb-4">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" (click)="resetForm()">Cancel</button>
              <div>
                <button type="button" class="btn btn-success" data-bs-dismiss="modal" (click)="onSubmitForm()" [disabled]="!taskForm.valid">{{ !isEditing ? 'Create' : 'Update' }}</button>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
<!-- End New/Edit Task -->
<!-- Delete Task -->
<!-- End Delete Task -->