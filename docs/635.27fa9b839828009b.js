"use strict";(self.webpackChunktaskit_project=self.webpackChunktaskit_project||[]).push([[635],{8635:(U,p,l)=>{l.r(p),l.d(p,{TasksListModule:()=>N});var b=l(6208),h=l(51),g=l(319),_=l(3176),f=l(9603),d=l(6825),t=l(4946),Z=l(6139),u=l(6814),x=l(5220);let C=(()=>{class n{transform(e,s,i,o){const a=new g.i(0,"","","","","","",0,0);for(e=e.filter(r=>{let k=!0,m=!0,T=!0;return s&&(T=r.unformattedDate===s),i&&(m=r.priorityNumber===i),o&&(k=r.statusNumber===o),k&&m&&T});e.length<15;)e.push(a);return e}static#t=this.\u0275fac=function(s){return new(s||n)};static#e=this.\u0275pipe=t.Yjl({name:"filterTasks",type:n,pure:!0})}return n})(),M=(()=>{class n{transform(e){const s=new g.i(0,"","","","","","",0,0);let i=1;if(i=Math.ceil(e.length/15),0===e.length)for(;e.length<15;)e.push(s);for(;e.length<15*i;)e.push(s);return e}static#t=this.\u0275fac=function(s){return new(s||n)};static#e=this.\u0275pipe=t.Yjl({name:"generatePages",type:n,pure:!0})}return n})();function w(n,c){if(1&n&&(t.TgZ(0,"p",42),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij("Are you sure you want to delete task '",e.tasks[e.deleteIndex].title,"'?")}}function P(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"li")(1,"a",18),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,o=t.oxw(),a=t.MAs(21);return t.KtG(o.filterByDate(i,a))}),t._uU(2),t.ALo(3,"formatDate"),t.qZA()()}if(2&n){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(t.lcZ(3,1,e))}}function A(n,c){if(1&n&&(t.ynx(0),t.YNc(1,P,4,3,"li",43),t.BQk()),2&n){const e=c.$implicit;t.xp6(1),t.Q6J("ngIf",""!==e)}}function v(n,c){if(1&n&&(t.TgZ(0,"span"),t._uU(1,"\xa0"),t.qZA()),2&n){const e=t.oxw().$implicit;t.Gre("bi bi-circle-fill ",e.priority.toLowerCase(),"")}}function y(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"select",48),t.NdJ("change",function(i){t.CHM(e);const o=t.oxw().$implicit,a=t.oxw();return t.KtG(a.changeStatus(i.target.value,o.id))}),t.TgZ(1,"option",49),t._uU(2),t.qZA(),t.TgZ(3,"option",50),t._uU(4,"To Do"),t.qZA(),t.TgZ(5,"option",51),t._uU(6,"In Progress"),t.qZA(),t.TgZ(7,"option",52),t._uU(8,"Done"),t.qZA()()}if(2&n){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.status)}}function L(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"i",53),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,o=t.oxw();return t.KtG(o.onTaskModal(i.id,!0))}),t.qZA(),t.TgZ(2,"i",54),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,o=t.oxw();return t.KtG(o.onTaskModal(i.id))}),t.qZA(),t.TgZ(3,"i",55),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,o=t.oxw();return t.KtG(o.showDeleteModal(i.id))}),t.qZA()()}}function O(n,c){if(1&n&&(t.TgZ(0,"tr",44),t.ynx(1),t.TgZ(2,"td",45),t._uU(3),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t.YNc(7,v,2,3,"span",46),t._uU(8),t.qZA(),t.TgZ(9,"td"),t.YNc(10,y,9,1,"select",47),t.qZA(),t.TgZ(11,"td"),t.YNc(12,L,4,0,"div",43),t.qZA(),t.BQk(),t.qZA()),2&n){const e=c.$implicit,s=t.oxw();t.MGl("id","a",e.id,""),t.xp6(2),t.Q6J("@highlightTask",s.taskIdToHighlight===e.id),t.xp6(1),t.Oqu(e.title),t.xp6(1),t.Q6J("@highlightTask",s.taskIdToHighlight===e.id),t.xp6(1),t.Oqu(e.dueDate),t.xp6(1),t.Q6J("@highlightTask",s.taskIdToHighlight===e.id),t.xp6(1),t.Q6J("ngIf",""!==e.priority),t.xp6(1),t.Oqu(e.priority),t.xp6(1),t.Q6J("@highlightTask",s.taskIdToHighlight===e.id),t.xp6(1),t.Q6J("ngIf",""!==e.priority),t.xp6(1),t.Q6J("@highlightTask",s.taskIdToHighlight===e.id),t.xp6(1),t.Q6J("ngIf",""!==e.priority)}}const D=[{path:"",component:(()=>{class n{constructor(e){this.storageService=e,this.tasks=[],this.blankTask=new g.i(0,"","","","","","",0,0),this.totalPages=1,this.pageNum=1,this.pageRows=15,this.formatDatePipe=new f.i,this.dueDates=[],this.taskIdToHighlight=null}ngOnInit(){this.tasks=this.storageService.fetchTasks(),this.totalPages=Math.ceil(this.tasks.length/15),this.generatePage(),this.tasksFetchedSub=this.storageService.tasksFetched.subscribe(e=>{this.tasks=e,this.generateDates(),this.totalPages=Math.ceil(this.tasks.length/15),this.generatePage()}),this.tasksChangedSub=this.storageService.tasksChanged.subscribe(e=>{this.tasks=e.tasks,"was deleted"!==e.action&&(this.taskIdToHighlight=e.task.id),this.generateDates(),this.totalPages=Math.ceil(this.tasks.length/15),this.generatePage()}),this.pageSub=this.storageService.changePage.subscribe(e=>{this.taskSort="unformattedDate",this.taskSortDir="asc",this.pageNum=e})}ngOnDestroy(){this.tasksChangedSub.unsubscribe(),this.pageSub.unsubscribe()}onTaskModal(e,s){const i=this.storageService.findTaskIndex(e);void 0===e?this.taskModal.showModal(void 0):this.taskModal.showModal(i,s)}showDeleteModal(e){const s=this.storageService.findTaskIndex(e);this.deleteIndex=s,new window.bootstrap.Modal(document.getElementById("deleteTaskModal")).show()}deleteTask(e){this.storageService.deleteTask(e)}generatePage(){if(0===this.tasks.length)for(;this.tasks.length<15;)this.tasks.push(this.blankTask);for(;this.tasks.length<15*this.totalPages;)this.tasks.push(this.blankTask)}prevPage(){this.taskIdToHighlight=null,1!==this.pageNum&&(this.pageNum--,this.generatePage())}nextPage(){this.taskIdToHighlight=null,this.pageNum!==Math.ceil(this.tasks.length/15)&&(this.pageNum++,this.generatePage())}generateDates(){this.dueDates=[],this.tasks.forEach(e=>{this.dueDates.includes(e.unformattedDate)||this.dueDates.push(e.unformattedDate)}),this.dueDates.sort()}changeStatus(e,s){const i=this.storageService.findTaskIndex(s);this.storageService.changeStatus(e,i)}sortTasks(e){e===this.taskSort?this.taskSortDir="asc"===this.taskSortDir?"desc":"asc":(this.taskSortDir="asc",this.taskSort=e)}filterByDate(e,s){document.querySelector("#taskTable"),null===e?(s.classList.remove("select-box-filtered"),s.innerText="Due Date",this.dueDateFilter=void 0):(s.classList.add("select-box-filtered"),s.innerText=this.formatDatePipe.transform(e),this.dueDateFilter=e)}filterByPriority(e,s){0===e?(s.classList.remove("select-box-filtered"),s.innerText="Priority",this.priorityFilter=void 0):1===e?(s.classList.add("select-box-filtered"),s.innerText="Low",this.priorityFilter=1):2===e?(s.classList.add("select-box-filtered"),s.innerText="Medium",this.priorityFilter=2):3===e&&(s.classList.add("select-box-filtered"),s.innerText="High",this.priorityFilter=3)}filterByStatus(e,s){0===e?(s.classList.remove("select-box-filtered"),s.innerText="Status",this.statusFilter=void 0):1===e?(s.classList.add("select-box-filtered"),s.innerText="To Do",this.statusFilter=1):2===e?(s.classList.add("select-box-filtered"),s.innerText="In Progress",this.statusFilter=2):3===e&&(s.classList.add("select-box-filtered"),s.innerText="Done",this.statusFilter=3)}static#t=this.\u0275fac=function(s){return new(s||n)(t.Y36(Z.V))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-tasks-list"]],viewQuery:function(s,i){if(1&s&&t.Gf(_.H,5),2&s){let o;t.iGM(o=t.CRH())&&(i.taskModal=o.first)}},decls:103,vars:21,consts:[["id","deleteTaskModal","tabindex","-1","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"d-flex","justify-content-end","btn-close-div"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body","text-center","mt-3"],["class","mb-4","style","font-weight: bold; font-size: 28px;",4,"ngIf"],[1,"mb-5"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary","dlt-btn","me-4"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger","dlt-btn",3,"click"],[1,"container","mt-5"],[1,"mb-4"],[1,"d-flex","flex-row","mb-3","top-bar"],[1,"me-2","mt-2",2,"font-weight","bold"],[1,"dropdown","me-2"],["type","button","data-bs-toggle","dropdown",1,"btn","btn-default","btn-sm","dropdown-toggle","mt-1","unformattedDate","select-box"],["dueDateBtn",""],[1,"dropdown-menu"],[1,"dropdown-item",3,"click"],[4,"ngFor","ngForOf"],["type","button","data-bs-toggle","dropdown",1,"btn","btn-default","btn-sm","dropdown-toggle","mt-1","priority","select-box"],["priorityBtn",""],[1,"dropdown-menu","priority"],[1,"bi","bi-circle-fill","low"],[1,"bi","bi-circle-fill","medium"],[1,"bi","bi-circle-fill","high"],[1,"dropdown"],["type","button","data-bs-toggle","dropdown",1,"btn","btn-default","btn-sm","dropdown-toggle","mt-1","status","select-box"],["statusBtn",""],[1,"flex-grow-1"],[1,"btn","btn-success","btn-sm","new-task-btn","mt-1",3,"click"],[1,"container"],[1,"table-responsive"],["id","taskTable",1,"table","table-bordered","table-hover","rounded-3"],["scope","col",1,"header","can-sort",3,"click"],[1,"bi","bi-caret-down"],["scope","col",1,"header"],["class","border-bottom",3,"id",4,"ngFor","ngForOf"],[1,"pages","text-center"],[1,"btn","btn-sm","btn-arrow","me-1",3,"disabled","click"],[1,"btn","btn-sm","btn-num","me-1"],[1,"btn","btn-sm","btn-arrow",3,"disabled","click"],[1,"mb-4",2,"font-weight","bold","font-size","28px"],[4,"ngIf"],[1,"border-bottom",3,"id"],["scope","row",1,"title"],[3,"class",4,"ngIf"],["class","status-dropdown","id","status-change",3,"change",4,"ngIf"],["id","status-change",1,"status-dropdown",3,"change"],["selected","","hidden",""],["value","To Do-1"],["value","In Progress-2"],["value","Done-3"],["title","View",1,"bi","bi-eye","action","me-3",3,"click"],["title","Edit",1,"bi","bi-pencil-square","action","me-3",3,"click"],["title","Delete",1,"bi","bi-trash","action",3,"click"]],template:function(s,i){if(1&s){const o=t.EpF();t._UZ(0,"app-task-modal"),t.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3),t._UZ(5,"button",4),t.qZA(),t.TgZ(6,"div",5),t.YNc(7,w,2,1,"p",6),t.TgZ(8,"div",7)(9,"button",8),t._uU(10,"Cancel"),t.qZA(),t.TgZ(11,"button",9),t.NdJ("click",function(){return i.deleteTask(i.deleteIndex)}),t._uU(12,"Delete"),t.qZA()()()()()(),t.TgZ(13,"div",10)(14,"h1",11),t._uU(15,"Task List"),t.qZA(),t.TgZ(16,"div",12)(17,"label",13),t._uU(18,"Filters:"),t.qZA(),t.TgZ(19,"div",14)(20,"button",15,16),t._uU(22,"Due Date"),t.qZA(),t.TgZ(23,"ul",17)(24,"li")(25,"a",18),t.NdJ("click",function(){t.CHM(o);const r=t.MAs(21);return t.KtG(i.filterByDate(null,r))}),t._uU(26,"Show All"),t.qZA()(),t.YNc(27,A,2,1,"ng-container",19),t.qZA()(),t.TgZ(28,"div",14)(29,"button",20,21),t._uU(31,"Priority"),t.qZA(),t.TgZ(32,"ul",22)(33,"li")(34,"a",18),t.NdJ("click",function(){t.CHM(o);const r=t.MAs(30);return t.KtG(i.filterByPriority(0,r))}),t._uU(35,"Show All"),t.qZA()(),t.TgZ(36,"li")(37,"a",18),t.NdJ("click",function(){t.CHM(o);const r=t.MAs(30);return t.KtG(i.filterByPriority(1,r))}),t.TgZ(38,"span",23),t._uU(39,"\xa0"),t.qZA(),t._uU(40,"Low"),t.qZA()(),t.TgZ(41,"li")(42,"a",18),t.NdJ("click",function(){t.CHM(o);const r=t.MAs(30);return t.KtG(i.filterByPriority(2,r))}),t.TgZ(43,"span",24),t._uU(44,"\xa0"),t.qZA(),t._uU(45,"Medium"),t.qZA()(),t.TgZ(46,"li")(47,"a",18),t.NdJ("click",function(){t.CHM(o);const r=t.MAs(30);return t.KtG(i.filterByPriority(3,r))}),t.TgZ(48,"span",25),t._uU(49,"\xa0"),t.qZA(),t._uU(50,"High"),t.qZA()()()(),t.TgZ(51,"div",26)(52,"button",27,28),t._uU(54,"Status"),t.qZA(),t.TgZ(55,"ul",17)(56,"li")(57,"a",18),t.NdJ("click",function(){t.CHM(o);const r=t.MAs(53);return t.KtG(i.filterByStatus(0,r))}),t._uU(58,"Show All"),t.qZA()(),t.TgZ(59,"li")(60,"a",18),t.NdJ("click",function(){t.CHM(o);const r=t.MAs(53);return t.KtG(i.filterByStatus(1,r))}),t._uU(61,"To Do"),t.qZA()(),t.TgZ(62,"li")(63,"a",18),t.NdJ("click",function(){t.CHM(o);const r=t.MAs(53);return t.KtG(i.filterByStatus(2,r))}),t._uU(64,"In Progress"),t.qZA()(),t.TgZ(65,"li")(66,"a",18),t.NdJ("click",function(){t.CHM(o);const r=t.MAs(53);return t.KtG(i.filterByStatus(3,r))}),t._uU(67,"Done"),t.qZA()()()(),t._UZ(68,"span",29),t.TgZ(69,"button",30),t.NdJ("click",function(){return i.onTaskModal()}),t._uU(70,"Add New Task"),t.qZA()()(),t.TgZ(71,"div",31)(72,"div",32)(73,"table",33)(74,"thead")(75,"tr")(76,"th",34),t.NdJ("click",function(){return i.sortTasks("title")}),t._uU(77,"Task\xa0"),t._UZ(78,"span",35),t.qZA(),t.TgZ(79,"th",34),t.NdJ("click",function(){return i.sortTasks("unformattedDate")}),t._uU(80,"Due Date\xa0"),t._UZ(81,"span",35),t.qZA(),t.TgZ(82,"th",34),t.NdJ("click",function(){return i.sortTasks("priorityNumber")}),t._uU(83,"Priority\xa0"),t._UZ(84,"span",35),t.qZA(),t.TgZ(85,"th",34),t.NdJ("click",function(){return i.sortTasks("statusNumber")}),t._uU(86,"Status\xa0"),t._UZ(87,"span",35),t.qZA(),t.TgZ(88,"th",36),t._uU(89,"Actions"),t.qZA()()(),t.TgZ(90,"tbody"),t.YNc(91,O,13,12,"tr",37),t.ALo(92,"generatePages"),t.ALo(93,"slice"),t.ALo(94,"sortTasks"),t.ALo(95,"filterTasks"),t.qZA()(),t.TgZ(96,"div",38)(97,"button",39),t.NdJ("click",function(){return i.prevPage()}),t._uU(98,"\xab"),t.qZA(),t.TgZ(99,"button",40),t._uU(100),t.qZA(),t.TgZ(101,"button",41),t.NdJ("click",function(){return i.nextPage()}),t._uU(102,"\xbb"),t.qZA()()()()}2&s&&(t.xp6(7),t.Q6J("ngIf",void 0!==i.deleteIndex),t.xp6(20),t.Q6J("ngForOf",i.dueDates),t.xp6(64),t.Q6J("ngForOf",t.lcZ(92,6,t.Dn7(93,8,t.Dn7(94,12,t.gM2(95,16,i.tasks,i.dueDateFilter,i.priorityFilter,i.statusFilter),i.taskSort,i.taskSortDir),15*(i.pageNum-1),15*(i.pageNum-1)+15))),t.xp6(6),t.Q6J("disabled",1===i.pageNum),t.xp6(3),t.Oqu(i.pageNum),t.xp6(1),t.Q6J("disabled",i.pageNum===i.totalPages||0===i.totalPages))},dependencies:[u.sg,u.O5,_.H,u.OU,f.i,x.u,C,M],styles:['@-moz-document url-prefix(){select{border:1px solid darkgrey;border-radius:3px;background-color:#fff;padding-left:5px}}.table[_ngcontent-%COMP%]{border:1px solid darkgrey;border-collapse:separate;border-spacing:0;border-radius:10px;overflow:hidden}td.title[_ngcontent-%COMP%]{font-weight:700}.top-bar[_ngcontent-%COMP%]{width:100%}.select-box[_ngcontent-%COMP%]{color:#a9a9a9;width:125px;border-radius:5px;border-color:#a9a9a9}.select-box-filtered[_ngcontent-%COMP%]{color:#000}.dropdown-item[_ngcontent-%COMP%]{cursor:pointer;font-size:14px;color:#000;width:123px}.dropdown-menu[_ngcontent-%COMP%]{min-width:120px}.status-dropdown[_ngcontent-%COMP%]{border-color:#a9a9a9;border-radius:5px;min-width:110px;font-size:14px;height:23px}.new-task-btn[_ngcontent-%COMP%]{font-size:13px;width:150px;background-color:#32cd32;border:none;color:#fff}.new-task-btn[_ngcontent-%COMP%]:hover{background-color:transparent;box-shadow:inset 0 0 0 1px #32cd32;color:#32cd32;transition:background-color .3s,box-shadow .3s,color .3s}tr[_ngcontent-%COMP%]{height:42px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:none}tr.border-bottom[_ngcontent-%COMP%]:not(:nth-child(15n))   td[_ngcontent-%COMP%]{border-bottom:1px solid darkgrey}tr.border-bottom[_ngcontent-%COMP%]:not(:nth-child(15n))   th[_ngcontent-%COMP%]{border-bottom:1px solid darkgrey}td[_ngcontent-%COMP%]:empty:after{content:"\\a0"}.header[_ngcontent-%COMP%]{border-bottom:1px solid grey;color:#a9a9a9;font-weight:500}.can-sort[_ngcontent-%COMP%]{cursor:pointer}.bi-caret-down[_ngcontent-%COMP%]{color:transparent;transition:color .3s}.can-sort[_ngcontent-%COMP%]:hover   .bi-caret-down[_ngcontent-%COMP%]{color:inherit}.low[_ngcontent-%COMP%]{color:#32cd32}.medium[_ngcontent-%COMP%]{color:gold}.high[_ngcontent-%COMP%]{color:#dc143c}.bi.action[_ngcontent-%COMP%]{cursor:pointer}.action[_ngcontent-%COMP%]:hover{color:#a9a9a9}.btn-close-div[_ngcontent-%COMP%]{margin-top:12px;margin-right:12px}.btn-close[_ngcontent-%COMP%]{width:5px;height:5px}.dlt-btn[_ngcontent-%COMP%]{width:110px;height:35px;font-size:13px}.pages[_ngcontent-%COMP%]   .btn-arrow[_ngcontent-%COMP%]{background-color:#32cd32;color:#fff;border:none;width:50px}.pages[_ngcontent-%COMP%]   .btn-arrow[_ngcontent-%COMP%]:hover{background-color:transparent;box-shadow:inset 0 0 0 1px #32cd32;color:#32cd32;font-weight:bolder;transition:background-color .3s,box-shadow .3s,color .3s}.pages[_ngcontent-%COMP%]   .btn-num[_ngcontent-%COMP%]{background-color:#32cd32;color:#fff;border:none;width:30px}.pages[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{background-color:transparent;box-shadow:inset 0 0 0 1px #32cd32;color:#32cd32;font-weight:bolder;opacity:30%}'],data:{animation:[(0,d.X$)("highlightTask",[(0,d.eR)("void => true",(0,d.jt)(3e3,(0,d.F4)([(0,d.oB)({"background-color":"transparent",offset:0}),(0,d.oB)({"background-color":"limegreen",offset:.3}),(0,d.oB)({"background-color":"transparent",offset:1})])))])]}})}return n})()}];let N=(()=>{class n{static#t=this.\u0275fac=function(s){return new(s||n)};static#e=this.\u0275mod=t.oAB({type:n});static#s=this.\u0275inj=t.cJS({imports:[b.m,h.Bz.forChild(D),h.Bz]})}return n})()}}]);